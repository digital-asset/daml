-- Copyright (c) 2025 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
-- SPDX-License-Identifier: Apache-2.0

module LocalContract where

template Local
  with
    owner: Party
    witness: Party
  where
    signatory owner
    observer witness

    choice GetName : ()
      controller owner
      do pure ()

template Holder
  with
    owner: Party
    holderWitness: Party
  where
    signatory owner
    observer holderWitness

    nonconsuming choice CreateAndUse : ()
      with
        witness: Party
      observer holderWitness
      controller owner
      do
        localCid <- create $ Local owner witness
        _ <- exercise localCid GetName
        pure ()

