-- | The API for featured apps to record their activity.
module FeaturedAppRightV1 where

-- | A contract granting an application provider the right to record their featured activity,
-- which can be used under some circumstances to mint rewards.
interface FeaturedAppRight where
  viewtype FeaturedAppRightView

  featuredAppRight_CreateActivityMarkerImpl : Update FeaturedAppRight_CreateActivityMarkerResult

  nonconsuming choice FeaturedAppRight_CreateActivityMarker : FeaturedAppRight_CreateActivityMarkerResult
    controller (view this).provider
    do featuredAppRight_CreateActivityMarkerImpl this

data FeaturedAppRight_CreateActivityMarkerResult = FeaturedAppRight_CreateActivityMarkerResult
  with
    activityMarkerContractId : ContractId FeaturedAppActivityMarker

data FeaturedAppRightView = FeaturedAppRightView
  with
    dso : Party
    provider : Party
  deriving (Show, Eq)

-- | A marker created by a featured application for activity generated from that app. This is used
-- to record activity other than amulet transfers where regular AppRewardCoupons are not created directly.
--
-- This is expected to be converted to an `AppRewardCoupon` through automation run by the SVs and can then be
-- minted as part of the normal minting process.
interface FeaturedAppActivityMarker where
  viewtype FeaturedAppActivityMarkerView

data FeaturedAppActivityMarkerView = FeaturedAppActivityMarkerView
  with
    dso : Party
    provider : Party
  deriving (Show, Eq)
