-- Copyright (c) 2026, Digital Asset (Switzerland) GmbH and/or its affiliates.
-- All rights reserved.

-- @OPTIONS --explicit-serializable=yes
-- @QUERY-LF $pkg | .modules[] | .data_types[] | select(lf::get_dotted_name($pkg) == ["Currency"]) | has("serializable")
-- @QUERY-LF $pkg | .modules[] | .data_types[] | select(lf::get_dotted_name($pkg) == ["Helper"]) | has("serializable") | not
-- @QUERY-LF $pkg | .modules[] | .data_types[] | select(lf::get_dotted_name($pkg) == ["Asset"]) | has("serializable")
module ExplicitSerializable where

data Currency = Currency with
  admin : Party
  instrument : Text
    deriving (Eq, Show)

instance Serializable Currency

data Helper = Helper with
  currencies : [Currency]

template Asset
  with
    amount : Decimal
    party : Party
    currency : Currency
  where
    signatory party
