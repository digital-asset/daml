# Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

load("//bazel_tools:haskell.bzl", "da_haskell_binary")

da_haskell_binary(
    name = "cron",
    srcs = glob(["src/**/*.hs"]),
    hackage_deps = [
        "aeson",
        "async",
        "base",
        "bytestring",
        "conduit",
        "conduit-extra",
        "case-insensitive",
        "containers",
        "directory",
        "extra",
        "filepath",
        "http-conduit",
        "http-client",
        "http-client-tls",
        "http-types",
        "monad-loops",
        "network-uri",
        "optparse-applicative",
        "process",
        "proto3-suite",
        "regex-tdfa",
        "resourcet",
        "retry",
        "safe",
        "safe-exceptions",
        "semver",
        "split",
        "stm",
        "stm-chans",
        "stm-conduit",
        "text",
        "time",
        "typed-process",
        "unordered-containers",
        "utf8-string",
        "vector",
    ],
    src_strip_prefix = "src",
    visibility = ["//visibility:public"],
    deps = ["//3rdparty/haskell:remote_apis"],
)
