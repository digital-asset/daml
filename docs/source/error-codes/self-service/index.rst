.. Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
.. SPDX-License-Identifier: Apache-2.0

Self-Service Error Codes (Experimental)
#######################################

.. toctree::
   :hidden:

.. list-all-error-codes::


Self-Service Error Codes Migration Guide
########################################

The introduction of the self-service error codes means that some of the gRPC error codes returned from service methods change.
Consult the table below for details on those changes.

Note that the table below contains entries only for cases where a gRPC codes was changed.
For example, a service method previously returning gRPC error code ``CODE_A`` may now return 
``CODE_B`` for some error condition while returning ``CODE_A`` for other conditions,
and only an entry for the change from ``CODE_A`` in ``CODE_B`` is included in the table below.


+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|Service method                                           |gRPC error code (legacy errors) |gRPC error code (self-service errors) |Remarks                                                                                                                  |Sef-service error code id                                       |
+=========================================================+================================+======================================+=========================================================================================================================+================================================================+
|ActiveContractsService.getActiveContracts                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|ActiveContractsService.getActiveContracts                |NOT_FOUND                       |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when attempting to access the data that has already been pruned.                 |PARTICIPANT_PRUNED_DATA_ACCESSED                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandCompletionService.completionEnd                   |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandCompletionService.completionStream                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandCompletionService.completionStream                |NOT_FOUND                       |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when attempting to access the data that has already been pruned.                 |PARTICIPANT_PRUNED_DATA_ACCESSED                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandCompletionService.completionStream                |OUT_OF_RANGE                    |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned on a subscription request with the offset boundaries beyond the ledger end.      |OFFSET_AFTER_LEDGER_END                                         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWait                             |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWait                             |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransaction               |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransaction               |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransactionId             |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransactionId             |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransactionTree           |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandService.submitAndWaitForTransactionTree           |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandSubmissionService.submit                          |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|CommandSubmissionService.submit                          |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|ConfigManagementService.setTimeModel                     |ABORTED                         |DEADLINE_EXCEEDED                     |DEADLINE_EXCEEDED can now be returned when a time out was reached.                                                       |REQUEST_TIME_OUT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|ConfigManagementService.setTimeModel                     |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when a configuration update was rejected.                                        |CONFIGURATION_ENTRY_REJECTED                                    |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|ConfigManagementService.setTimeModel                     |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|GrpcHealthService.check                                  |NOT_FOUND                       |INVALID_ARGUMENT                      |INVALID_ARGUMENT can now be returned when the received request contains invalid values.                                  |INVALID_ARGUMENT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|GrpcHealthService.watch                                  |NOT_FOUND                       |INVALID_ARGUMENT                      |INVALID_ARGUMENT can now be returned when the received request contains invalid values.                                  |INVALID_ARGUMENT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |ALREADY_EXISTS                        |ALREADY_EXISTS is now returned on duplicate resource transaction rejections.                                             |DUPLICATE_CONTRACT_KEY, DUPLICATE_COMMAND                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on a submission that has violated some constraint on ledger time.                    |INVALID_LEDGER_TIME                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on consistency error transaction rejections.                                         |INCONSISTENT, INCONSISTENT_CONTRACT_KEY, INCONSISTENT_CONTRACTS |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on invalid record time transaction rejections.                                       |INVALID_RECORD_TIME                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on transaction rejections on record time bounds violations.                          |RECORD_TIME_OUT_OF_RANGE                                        |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on transaction rejections on time monotonicity violations.                           |CAUSAL_MONOTONICITY_VIOLATED                                    |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |ABORTED                         |INTERNAL                              |INTERNAL is now returned on consistency error transaction rejections.                                                    |MISSING_INPUT_STATE                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL is now returned on an invalid transaction submission that was not detected by the participant.                  |DISPUTED                                                        |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL is now returned on consistency errors that should have been caught by the participant.                          |INTERNALLY_INCONSISTENT_KEYS, INTERNALLY_DUPLICATE_KEYS         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL is now returned on invalid transaction submissions.                                                             |VALIDATION_FAILURE                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL is now returned on transaction rejections when an invalid participant state has been detected.                  |INVALID_PARTICIPANT_STATE                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |INVALID_ARGUMENT                |NOT_FOUND                             |NOT_FOUND is now returned on transaction rejections on unallocated parties.                                              |SUBMITTING_PARTY_NOT_KNOWN_ON_LEDGER, PARTY_NOT_KNOWN_ON_LEDGER |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|KVErrors.CommandCompletionService.CompletionStream       |UNKNOWN                         |INTERNAL                              |INTERNAL is now returned on transaction rejections without a status..                                                    |REJECTION_REASON_NOT_SET                                        |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|LedgerConfigurationService.getLedgerConfiguration        |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PackageManagementService.uploadDarFile                   |ABORTED                         |DEADLINE_EXCEEDED                     |DEADLINE_EXCEEDED can now be returned when a time out was reached.                                                       |REQUEST_TIME_OUT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PackageManagementService.uploadDarFile                   |INVALID_ARGUMENT                |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when a package upload was rejected.                                              |PACKAGE_UPLOAD_REJECTED                                         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PackageService.getPackage                                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PackageService.getPackageStatus                          |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PackageService.listPackages                              |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|ParticipantPruningService.prune                          |INVALID_ARGUMENT                |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when the supplied pruning offset is not before the ledger end.                   |OFFSET_OUT_OF_RANGE                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|PartyManagementService.allocateParty                     |ABORTED                         |DEADLINE_EXCEEDED                     |DEADLINE_EXCEEDED can now be returned when a time out was reached.                                                       |REQUEST_TIME_OUT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |ABORTED                         |ALREADY_EXISTS                        |ALREADY_EXISTS is now returned on duplicate contract key transaction rejections.                                         |DUPLICATE_CONTRACT_KEY                                          |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on invalid ledger time transaction rejections.                                       |INVALID_LEDGER_TIME                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |ABORTED                         |FAILED_PRECONDITION                   |FAILED_PRECONDITION is now returned on transaction rejections on consistency errors.                                     |INCONSISTENT, INCONSISTENT_CONTRACT_KEY                         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |ABORTED                         |NOT_FOUND                             |NOT_FOUND is now returned on transaction rejections on not found contract.                                               |CONTRACT_NOT_FOUND                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL is now returned on transaction rejections on system faults.                                                     |DISPUTED                                                        |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxClassic.CommandCompletionService.CompletionStream |INVALID_ARGUMENT                |NOT_FOUND                             |PARTY_NOT_KNOWN_ON_LEDGER is now returned on transaction rejections on unallocated parties.                              |PARTY_NOT_KNOWN_ON_LEDGER                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SandboxResetService.reset                                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |ABORTED                         |ALREADY_EXISTS                        |ALREADY_EXISTS can now be returned when there was a duplicate contract key during interpretation.                        |DUPLICATE_CONTRACT_KEY_DURING_INTERPRETATION                    |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |ABORTED                         |INTERNAL                              |INTERNAL can now be returned when validation fails on a mismatch during relay of the submitted transaction.              |LEDGER_API_INTERNAL_ERROR                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |ABORTED                         |NOT_FOUND                             |NOT_FOUND can now be returned when contract key was not found during interpretation.                                     |CONTRACT_NOT_FOUND                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when a Daml transaction fails during interpretation.                             |DAML_INTERPRETATION_ERROR                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |INTERNAL                              |INTERNAL can now be returned in case of internal errors.                                                                 |LEDGER_API_INTERNAL_ERROR                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |NOT_FOUND                             |NOT_FOUND can now be returned when a Daml interpreter can not resolve a contract key to an active contract.              |CONTRACT_KEY_NOT_FOUND                                          |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |NOT_FOUND                             |NOT_FOUND can now be returned when a Daml transaction was referring to a package which was not known to the participant. |MISSING_PACKAGE                                                 |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |NOT_FOUND                             |NOT_FOUND can now be returned when an exercise or fetch happens on a transaction-locally consumed contract.              |CONTRACT_NOT_ACTIVE                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |INVALID_ARGUMENT                |UNKNOWN                               |UNKNOWN can now be returned when package validation fails.                                                               |PACKAGE_VALIDATION_FAILED                                       |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|SubmissionService.submit                                 |UNAVAILABLE                     |NOT_FOUND                             |NOT_FOUND can now be returned when a ledger configuration was not found.                                                 |LEDGER_CONFIGURATION_NOT_FOUND                                  |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TimeService.getTimeSource                                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TimeService.setTime                                      |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getFlatTransactionByEventId           |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getFlatTransactionByEventId           |NOT_FOUND                       |INVALID_ARGUMENT                      |INVALID_ARGUMENT can now be returned when the received request contains invalid values.                                  |INVALID_ARGUMENT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getFlatTransactionById                |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getLedgerEnd                          |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionByEventId               |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionByEventId               |NOT_FOUND                       |INVALID_ARGUMENT                      |INVALID_ARGUMENT can now be returned when the received request contains invalid values.                                  |INVALID_ARGUMENT                                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionById                    |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionTrees                   |INVALID_ARGUMENT                |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when the supplied offset was out of range.                                       |OFFSET_OUT_OF_RANGE                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionTrees                   |NOT_FOUND                       |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when attempting to access the data that has already been pruned.                 |PARTICIPANT_PRUNED_DATA_ACCESSED                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionTrees                   |OUT_OF_RANGE                    |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned on a subscription request with the offset boundaries beyond the ledger end.      |OFFSET_AFTER_LEDGER_END                                         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactionTreesSource             |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactions                       |INVALID_ARGUMENT                |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when the supplied offset was out of range.                                       |OFFSET_OUT_OF_RANGE                                             |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactions                       |NOT_FOUND                       |FAILED_PRECONDITION                   |                                                                                                                         |LEDGER_ID_MISMATCH                                              |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactions                       |NOT_FOUND                       |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned when attempting to access the data that has already been pruned.                 |PARTICIPANT_PRUNED_DATA_ACCESSED                                |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
|TransactionService.getTransactions                       |OUT_OF_RANGE                    |FAILED_PRECONDITION                   |FAILED_PRECONDITION can now be returned on a subscription request with the offset boundaries beyond the ledger end.      |OFFSET_AFTER_LEDGER_END                                         |
+---------------------------------------------------------+--------------------------------+--------------------------------------+-------------------------------------------------------------------------------------------------------------------------+----------------------------------------------------------------+
