-- Copyright (c) 2020, Digital Asset (Switzerland) GmbH and/or its affiliates.
-- All rights reserved.

-- Check that the submitted update is only evaluated when the script
-- is evaluated.

module SubmitFail where

import Daml.Script

main = script do
  alice <- allocateParty "Alice"

  let _ = submit alice (error "submit-error" : Commands ())
  let _ = submit alice (pure (error "submit-pure-error") : Commands ())

  submitMustFail alice (error "fail-error" : Commands ())
  submitMustFail alice (pure (error "fail-pure-error": ()))
