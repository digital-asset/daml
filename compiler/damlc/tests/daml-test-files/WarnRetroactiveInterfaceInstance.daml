-- Copyright (c) 2023, Digital Asset (Switzerland) GmbH and/or its affiliates.
-- All rights reserved.

-- This tests that the deprecation warning for retroactive interface instances
-- appears for versions of LF that support interfaces and upgrades.

-- @SUPPORTS-LF-FEATURE DAML_INTERFACE
-- @SUPPORTS-LF-FEATURE DAML_PACKAGE_UPGRADES
-- @WARN range=23:3-24:16; Found interface instance in the body of an interface
-- TODO(https://github.com/digital-asset/daml/issues/18049):
-- Retroactive interface instances will be removed in LF 2.x, after which
-- this test will no longer make sense.

module WarnRetroactiveInterfaceInstance where

template T with
    p : Party
  where
    signatory p

interface I where
  viewtype T
  interface instance I for T where
    view = this
