# Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.
# SPDX-License-Identifier: Apache-2.0

load(
    "//rules_daml:daml.bzl",
    "daml_build_test",
    "daml_compile",
)

daml_compile(
    name = "Exceptions",
    srcs = ["Exceptions.daml"],
    visibility = ["//daml-lf:__subpackages__"],
)

daml_compile(
    name = "Interfaces",
    srcs = ["Interfaces.daml"],
    visibility = ["//daml-lf:__subpackages__"],
)

daml_build_test(
    name = "InterfaceRetro",
    dar_dict = {
        "//daml-lf/tests:Interfaces.dar": "interfaces.dar",
    },
    project_dir = "interface-retro",
    visibility = ["//daml-lf:__subpackages__"],
)

daml_compile(
    name = "InterfaceViews",
    srcs = ["InterfaceViews.daml"],
    visibility = ["//daml-lf:__subpackages__"],
)

daml_build_test(
    name = "ReinterpretTests",
    dar_dict = {
        "//daml-lf/tests:AtVersion13.dar": "at-version-13.dar",
        "//daml-lf/tests:AtVersion14.dar": "at-version-14.dar",
    },
    project_dir = "reinterpret",
    visibility = ["//daml-lf:__subpackages__"],
)

daml_compile(
    name = "AtVersion13",
    srcs = ["reinterpret/AtVersion13.daml"],
    target = "1.13",
    visibility = ["//daml-lf:__subpackages__"],
)

daml_compile(
    name = "AtVersion14",
    srcs = ["reinterpret/AtVersion14.daml"],
    target = "1.14",
    visibility = ["//daml-lf:__subpackages__"],
)

daml_compile(
    name = "MultiKeys",
    srcs = ["MultiKeys.daml"],
    visibility = ["//daml-lf:__subpackages__"],
)
